<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>cn.zhiyou.ZhiYouToolkit</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>ZhiYouToolkit</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="memoryzk@outlook.com" url="https://home.memoryzy.cn/">Memory</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <p>ZhiYouToolkit is an IDEA plugin designed to solve repetitive tasks and pain points in daily development, enhancing code development efficiency and quality.</p>
    <br/>
    <a href="https://zhiyou.memoryzy.cn/overview.html">Get Started</a>
    | <a href="https://home.memoryzy.cn/">Website</a>
    | <a href="https://github.com/MemoryZy/ZhiYouToolkit">GitHub</a>
    | <a href="https://gitee.com/MemoryZy/ZhiYouToolkit">Gitee</a>
    <br/>
    <h2>Features</h2>
    <ul>
        <li>Code Notes: Code Logging, Note Import, Note Export, Note Tagging.</li>
        <li>Convert JSON to JavaBean: Support for Nested Properties.</li>
        <li>Convert JavaBean to JSON: Support for Nested Properties, FastJson, and Jackson Annotations.</li>
        <li>JSON Window and JSON Processing: JSON Formatting, JSON Compression, JSON Structuring.</li>
        <li>String Format Conversion: Convert Between Camel Case and Underscore, Convert Chinese to Pinyin.</li>
        <li>Convert Single-line Comments to Documentation Comments</li>
        <li>Generate ResultMap Tags: One-Click Generation of MyBatis ResultMap Tags.</li>
        <li>Generate Where Tags: One-Click Generation of MyBatis Where Tags.</li>
        <li>Class Property Mapping and Method Enumeration: Enumerate Getter and Setter Methods, Class Property Mapping Functionality.</li>
        <li>Generate JDK Serialization ID: One-Click Generation of JDK Serialization ID.</li>
        <li>Extract Spring Interface Paths</li>
        <li>Convert Between Timestamps and Dates</li>
        <li>Generate MyBatis-related Files: Generate Mapper Interface, Mapper XML, Mapping Class, and Other Files.</li>
        <li>Generate Specified Annotations and Comments: Generate Specified Annotations and Comments for Class Properties.</li>
        <li>Jasypt Encryption and Decryption: Jasypt Encryption and Decryption Functionality, Support for Symmetric and Asymmetric Encryption.</li>
        <li>Convert Between JSON and XML</li>
        <li>Text Comparison: Compare Differences Between Two Texts.</li>
        <li>......</li>
    </ul>
    <hr/>
    <br/>
    <p>知游工具，一款用于解决日常开发中大量的重复工作、痛点，提高代码开发效率和质量的IDEA插件。</p>
    <ul>
        <li>代码笔记：记录代码、笔记导入、笔记导出、笔记标签。</li>
        <li>Json转JavaBean：支持嵌套属性。</li>
        <li>JavaBean转Json：支持嵌套属性，支持FastJson、Jackson注解。</li>
        <li>Json窗口及Json处理：Json格式化、Json压缩、Json结构化。</li>
        <li>字符串格式转换：驼峰与下划线互相转换、中文转拼音。</li>
        <li>单行注释转文档注释</li>
        <li>ResultMap标签生成：一键生成MyBatis-ResultMap标签。</li>
        <li>Where标签生成：一键生成MyBatis-Where标签。</li>
        <li>类属性映射与方法列举：Getter、Setter方法列举、类属性映射功能。</li>
        <li>JDK序列化ID生成：一键生成JDK序列化Id。</li>
        <li>Spring接口路径提取</li>
        <li>时间戳与时间转换</li>
        <li>MyBatis相关文件生成：生成Mapper接口、Mapper-Xml、映射类等文件。</li>
        <li>指定注解、注释生成：为类属性生成指定注解及注释。</li>
        <li>Jasypt加解密：Jasypt加密、解密功能，支持对称加密、非对称加密。</li>
        <li>JSON/XML转换</li>
        <li>文本互相比对：比对两份文本之间的不同之处。</li>
        <li>......</li>
    </ul>
  ]]></description>

    <change-notes><![CDATA[
    <h3>v1.4.0</h3>
      <ul>
          <li>BUG修复..</li>
          <li>兼容Android Studio与IDEA Community Edition</li>
          <li>用户交互体验优化与改进</li>
      </ul>
      <h3>v1.3.2</h3>
      <ul>
          <li>BUG修复..</li>
          <li>用户交互体验优化与改进</li>
      </ul>
      <h3>v1.3.1</h3>
      <ul>
          <li>优化图标</li>
          <li>解决并优化笔记导入、导出问题</li>
      </ul>
       <h3>v1.2.1</h3>
      <ul>
          <li>功能新增</li>
          <li>BUG修复</li>
          <li>......</li>
      </ul>
      ]]>
    </change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <!-- 引入Java扩展 -->
    <depends>com.intellij.java</depends>

    <!-- 需要可选依赖的话，需要把用到依赖的配置地方迁移到另一份plugin.xml配置中，这样当依赖不存在于目标idea时，该功能亦不可用 -->

    <!-- 可选依赖 -->
    <depends optional="true" config-file="database.xml">com.intellij.database</depends>
    <depends optional="true" config-file="shell.xml">com.jetbrains.sh</depends>
    <depends optional="true" config-file="kotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="js.xml">JavaScript</depends>

    <!--    <depends>org.intellij.plugins.markdown</depends>-->
    <!--    <depends>org.jetbrains.plugins.yaml</depends>-->
    <!--    <depends>com.intellij.properties</depends>-->
    <!--    <depends>org.intellij.groovy</depends>-->
    <!--    <depends>JavaScript</depends>-->

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- displayType只有这四种类型, id 在一个插件内不能重复,isLogByDefault表示是否在 Event Log 中记录 -->
        <notificationGroup displayType="BALLOON" id="ZhiYou.notify.balloon" isLogByDefault="false"/>
        <notificationGroup displayType="BALLOON" id="ZhiYou.notify.balloon.log" isLogByDefault="true"/>
        <!-- 粘性通知（不会自动消失）-->
        <notificationGroup displayType="STICKY_BALLOON" id="ZhiYou.notify.sticky.balloon"/>
        <notificationGroup displayType="TOOL_WINDOW" id="ZhiYou.notify.tool.window"/>
        <notificationGroup displayType="NONE" id="ZhiYou.notify.none"/>

        <!-- 声明模板文件 -->
        <internalFileTemplate name="ResultMap"/>
        <internalFileTemplate name="Where"/>
        <internalFileTemplate name="MapperMp"/>
        <internalFileTemplate name="MapperDefault"/>
        <internalFileTemplate name="MapperInterfaceMp"/>

        <!-- 工具窗 -->
        <toolWindow id="Json Panel"
                    secondary="true"
                    icon="AllIcons.Toolwindows.ToolWindowJsonPath"
                    anchor="right"
                    factoryClass="cn.zhiyou.toolwindow.JsonFormatToolWindow"/>

        <!-- icon="AllIcons.Toolwindows.ToolWindowMessages" -->
        <toolWindow id="Code Note"
                    secondary="true"
                    icon="/icons/favorites.svg"
                    anchor="right"
                    factoryClass="cn.zhiyou.toolwindow.CodeNoteToolWindow"/>

        <!-- 扫描xml文件用 -->
        <!--        <dom.fileMetaData implementation="cn.zhiyou.doc.MyBatisXmlDomFileDescription"/>-->

        <!-- 注册持久化实现类，这个是应用级别的，想要项目级别的可以用project -->
        <applicationService serviceImplementation="cn.zhiyou.config.DataBaseSetting"/>
        <!--        <projectService serviceImplementation="cn.zhiyou.config.DataBaseSetting"/>-->
        <applicationService serviceImplementation="cn.zhiyou.config.CodeNoteSetting"/>
        <!--        <projectService serviceImplementation="cn.zhiyou.config.DataBaseSetting"/>-->

        <projectService serviceImplementation="cn.zhiyou.config.JasyptSetting"/>
        <projectService serviceImplementation="cn.zhiyou.config.DoNotAskAgainSetting"/>

        <!-- 配置界面扩展点 -->
        <applicationConfigurable
                parentId="other settings"
                instance="cn.zhiyou.config.DataBaseSettingConfiguration"
                id="cn.zhiyou.config.ZhiYouDataBaseSettingConfigurationId"
                displayName="ZhiYouToolkit"/>

        <!-- 新方式-项目启动事件 -->
<!--        <postStartupActivity implementation="cn.zhiyou.listener.ProjectOpenInitActivity"/>-->

        <iconMapper mappingFile="ZhiyouIconMappings.json"/>
    </extensions>
    <!-- 旧方式-项目启动事件 -->
    <applicationListeners>
        <listener class="cn.zhiyou.listener.ProjectOpenInitActivity" topic="com.intellij.openapi.project.ProjectManagerListener"/>
<!--        &lt;!&ndash; 处理IDEA打开事件 &ndash;&gt;-->
<!--        <listener class="cn.zhiyou.listener.ProjectOpenInitActivity" topic="com.intellij.openapi.project.ProjectManagerListener"/>-->

        <listener class="cn.zhiyou.listener.ErrorSubmissionHandler" topic="com.intellij.openapi.diagnostic.ErrorReportSubmitter"/>


    </applicationListeners>

    <!-- 消息 -->
    <resource-bundle>messages.ZhiYouBundle</resource-bundle>

    <actions>
        <!-- 生成相关 -->
        <group id="cn.zhiyou.actionGroup.GenerateGroupId" description="生成相关组">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
            <separator/>

            <action id="cn.zhiyou.action.CreateSerialVersionUIDActionId"
                    class="cn.zhiyou.action.CreateSerialVersionAction"
                    text="SerialVersionUID (序列化)"
                    description="创建序列化Id，并实现序列化类">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 5"/>
            </action>

            <separator/>
        </group>


        <action id="cn.zhiyou.action.RecordCodeNoteActionId"
                class="cn.zhiyou.action.RecordCodeNoteAction"
                icon="/icons/inkBrush.svg"
                text="_Record Notes (笔记)">
            <add-to-group group-id="EditorPopupMenu" relative-to-action="cn.zhiyou.actionGroup.ClassFunctionGroupId"
                          anchor="before"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 2"/>
        </action>

        <group id="cn.zhiyou.actionGroup.ClassFunctionGroupId" description="对类普通功能组">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <separator/>

            <action id="cn.zhiyou.action.JavaBeanConvertToJsonActionId"
                    class="cn.zhiyou.action.JavaBeanConvertToJsonAction"
                    text="_Convert to JSON"
                    icon="/icons/json.svg"
                    description="JavaBean转Json">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 0"/>
            </action>
            <separator/>
            <action id="cn.zhiyou.action.ConvertStringActionId"
                    class="cn.zhiyou.action.ConvertStringAction"
                    text="Convert Strings"
                    description="字符串操作">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 6"/>
            </action>
            <separator/>
            <action id="cn.zhiyou.action.ConvertToJavadocActionId"
                    class="cn.zhiyou.action.ConvertToJavadocAction"
                    text="_Convert to Javadoc" description="单行注释转文档注释">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 3"/>
            </action>
            <separator/>
            <action id="cn.zhiyou.action.CopyRestfulPathActionId"
                    class="cn.zhiyou.action.CopyRestfulPathAction"
                    text="Copy RESTful Path"
                    description="复制接口完整路径">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 4"/>
            </action>
            <separator/>

            <separator/>
            <action id="cn.zhiyou.action.CreateAnnotationOnFieldActionId"
                    class="cn.zhiyou.action.CreateAnnotationOnFieldAction"
                    icon="/icons/at.svg"
                    text="_Create Annotations">
                <keyboard-shortcut first-keystroke="ctrl alt 8" keymap="$default"/>
            </action>
            <separator/>
            <action id="cn.zhiyou.action.CreateSetterGetterMappingActionId"
                    class="cn.zhiyou.action.CreateSetterGetterMappingAction"
                    icon="/icons/eco.svg"
                    text="Mapping (Get/Set)"
                    description="类属性操作">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 9"/>
            </action>
            <separator/>
            <action id="cn.zhiyou.action.ExtendedFeaturesActionId"
                    class="cn.zhiyou.action.ExtendedFeaturesAction"
                    icon="/icons/open.svg"
                    text="_Extended Features...">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt 7"/>
            </action>
            <separator/>
<!--            <action id="zhiyou.TestActionId" class="cn.zhiyou.action.TestAction"  text="测试"/>-->
            <separator/>

        </group>


        <!-- 文件创建组 (New下) -->
        <group id="cn.zhiyou.actionGroup.ConvertFileGroupId">
            <add-to-group group-id="NewGroup" relative-to-action="Kotlin.NewFile" anchor="before"/>
            <action id="cn.zhiyou.JsonConvertToJavaBeanActionId"
                    class="cn.zhiyou.action.JsonConvertToJavaBeanAction"
                    text="Java Class from Json"
                    icon="/icons/GroupByClass.svg"
                    description="Json转换为JavaBean">
            </action>
        </group>

        <!-- 用于编辑器的Action -->
        <action id="cn.zhiyou.action.JsonFormatActionId"
                class="cn.zhiyou.action.JsonFormatAction"
                text="JSON Format (格式化)"
                icon="AllIcons.Json.Object"
                description="用于给JsonFormat的工具窗右键弹出的菜单">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt k"/>
            <!-- BasicEditorPopupMenu是基础编辑器右键弹出菜单 -->
            <add-to-group group-id="BasicEditorPopupMenu" anchor="first"/>
        </action>

        <action id="cn.zhiyou.JsonStructureActionId"
                class="cn.zhiyou.action.JsonStructureAction"
                icon="/icons/structure.svg"
                text="JSON Structure (结构化)">
            <add-to-group group-id="BasicEditorPopupMenu" anchor="after" relative-to-action="cn.zhiyou.action.JsonCompressActionId"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt P"/>
        </action>

        <action id="cn.zhiyou.action.JsonCompressActionId"
                class="cn.zhiyou.action.JsonCompressAction"
                icon="/icons/compress.svg"
                text="JSON Compress (压缩)">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt m"/>
            <!-- BasicEditorPopupMenu是基础编辑器右键弹出菜单 -->
            <add-to-group group-id="BasicEditorPopupMenu" anchor="after"
                          relative-to-action="cn.zhiyou.action.JsonFormatActionId"/>
        </action>

        <action id="cn.zhiyou.action.HelpActionId"
                class="cn.zhiyou.action.HelpAction"
                icon="/icons/zhiyou.svg"
                text="About ZhiYou">
            <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="About"/>
        </action>


        <!-- 文件创建组2 (New下) -->
<!--        <group id="cn.zhiyou.actionGroup.DataBaseBySelfOperationsId">-->
<!--            <add-to-group group-id="NewGroup" anchor="last"/>-->
<!--            <separator/>-->
<!--            <action id="cn.zhiyou.action.CreateMyBatisMapperBySettingActionId"-->
<!--                    class="cn.zhiyou.action.CreateMyBatisMapperBySettingAction"-->
<!--                    icon="/icons/nav.svg"-->
<!--                    text="MyBatis Mapper (逆向)"/>-->
<!--            <separator/>-->
<!--        </group>-->


    </actions>


    <!-- 这个是目录那边右键弹出的 属于 new的上层 -->
    <!--<add-to-group group-id="ProjectViewPopupMenu" relative-to-action="CutCopyPasteGroup" anchor="after"/>-->

</idea-plugin>